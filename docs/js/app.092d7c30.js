(function(){"use strict";var e={8144:function(e,o,l){var d=l(5130),t=l(6768),r=l(4232);const n={id:"app"},i={key:0};function s(e,o,l,d,s,c){const a=(0,t.g2)("FolderTreeModal");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("button",{class:"app__open-button",onClick:o[0]||(o[0]=(...e)=>c.openModal&&c.openModal(...e))},"Открыть"),c.selectedFolderName?((0,t.uX)(),(0,t.CE)("p",i,"Выбрана папка: "+(0,r.v_)(c.selectedFolderName),1)):(0,t.Q3)("",!0),s.isModalOpen?((0,t.uX)(),(0,t.Wv)(a,{key:1,title:"Выберите папку",folders:s.folders,radioGroup:"folders",onClose:c.closeModal,onSelect:c.handleSelect},null,8,["folders","onClose","onSelect"])):(0,t.Q3)("",!0)])}const c={class:"modal"},a={class:"modal__content"},u={class:"modal__title"},f={class:"modal__tree"},p={class:"modal__buttons"};function h(e,o,l,d,n,i){const s=(0,t.g2)("FolderNode");return(0,t.uX)(),(0,t.CE)("div",c,[(0,t.Lk)("div",a,[(0,t.Lk)("span",{class:"modal__close",onClick:o[0]||(o[0]=o=>e.$emit("close"))},"×"),(0,t.Lk)("h2",u,(0,r.v_)(l.title),1),(0,t.Lk)("ul",f,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.folders,(l=>((0,t.uX)(),(0,t.Wv)(s,{key:l.id,folder:l,radioGroup:"folders",modelValue:e.selectedFolderId,"onUpdate:modelValue":o[1]||(o[1]=o=>e.selectedFolderId=o),onSelect:i.handleSelect},null,8,["folder","modelValue","onSelect"])))),128))]),(0,t.Lk)("div",p,[(0,t.Lk)("button",{class:"modal__button modal__button--close",onClick:o[2]||(o[2]=o=>e.$emit("close"))}," Закрыть "),(0,t.Lk)("button",{class:"modal__button modal__button--ok",onClick:o[3]||(o[3]=(...e)=>i.confirmSelection&&i.confirmSelection(...e))}," Ок ")])])])}const m={class:"folder-node"},_={key:1,class:"folder-node__placeholder"},v={key:0,class:"folder-node__children"};function F(e,o,l,n,i,s){const c=(0,t.g2)("FolderNode",!0);return(0,t.uX)(),(0,t.CE)("li",m,[(0,t.Lk)("div",{class:(0,r.C4)(["folder-node__item",{"folder-node__item--checked":e.selectedFolderIdNum===l.folder.id}]),onClick:o[1]||(o[1]=(...e)=>s.selectFolder&&s.selectFolder(...e))},[s.hasChildren?((0,t.uX)(),(0,t.CE)("span",{key:0,class:(0,r.C4)(["folder-node__icon",{"folder-node__icon--open":i.isOpen}]),onClick:o[0]||(o[0]=(0,d.D$)(((...e)=>s.toggle&&s.toggle(...e)),["stop"]))},null,2)):((0,t.uX)(),(0,t.CE)("span",_)),(0,t.eW)(" "+(0,r.v_)(l.value)+" "+(0,r.v_)(l.folder.name),1)],2),i.isOpen?(0,t.bo)(((0,t.uX)(),(0,t.CE)("ul",v,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.folder.children,(d=>((0,t.uX)(),(0,t.Wv)(c,{key:d.id,folder:d,radioGroup:l.radioGroup,modelValue:s.selectedFolderId,"onUpdate:modelValue":o[2]||(o[2]=e=>s.selectedFolderId=e),onSelect:o[3]||(o[3]=o=>e.$emit("select",o))},null,8,["folder","radioGroup","modelValue"])))),128))],512)),[[d.aG,s.hasChildren]]):(0,t.Q3)("",!0)])}var k=l(782),I={name:"FolderNode",props:{folder:{type:Object,required:!0},radioGroup:{type:String,required:!0},value:{type:[String,Number],required:!1}},data(){return{isOpen:!1}},computed:{...(0,k.aH)({selectedFolderIdNum:"selectedFolderId"}),hasChildren(){return this.folder.children&&this.folder.children.length>0},selectedFolderId:{get(){return this.value},set(e){this.$emit("input",e),this.$emit("select",e)}}},methods:{toggle(){this.hasChildren&&(this.isOpen=!this.isOpen)},selectFolder(){this.selectedFolderId=this.folder.id}}},b=l(1241);const y=(0,b.A)(I,[["render",F],["__scopeId","data-v-3c27a23c"]]);var C=y,g={name:"FolderTreeModal",components:{FolderNode:C},props:{title:{type:String,required:!0},folders:{type:Array,required:!0}},computed:{...(0,k.aH)(["selectedFolderId"])},methods:{...(0,k.i0)(["updateSelectedFolderId"]),handleSelect(e){this.updateSelectedFolderId(e)},confirmSelection(){this.$emit("select",this.selectedFolderId)}}};const O=(0,b.A)(g,[["render",h],["__scopeId","data-v-284fdfdd"]]);var S=O,M={name:"App",components:{FolderTreeModal:S},data(){return{isModalOpen:!1,folders:[{id:1,name:"Папка 1",children:[{id:2,name:"Подпапка 1.1",children:[{id:22,name:"Подпапка 1.1.1",children:[]},{id:33,name:"Подпапка 1.1.2",children:[]}]},{id:3,name:"Подпапка 1.2",children:[]}]},{id:4,name:"Папка 2",children:[]}]}},computed:{...(0,k.aH)(["selectedFolderId"]),selectedFolderName(){const e=this.findFolderById(this.selectedFolderId,this.folders);return e?e.name:""}},methods:{openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},handleSelect(){this.closeModal()},findFolderById(e,o){for(let l of o){if(l.id===e)return l;if(l.children){const o=this.findFolderById(e,l.children);if(o)return o}}return null}}};const X=(0,b.A)(M,[["render",s]]);var E=X,N=(0,k.y$)({state:{selectedFolderId:null},mutations:{setSelectedFolderId(e,o){e.selectedFolderId=o}},actions:{updateSelectedFolderId({commit:e},o){e("setSelectedFolderId",o)}},getters:{selectedFolderId:e=>e.selectedFolderId}});(0,d.Ef)(E).use(N).mount("#app")}},o={};function l(d){var t=o[d];if(void 0!==t)return t.exports;var r=o[d]={exports:{}};return e[d].call(r.exports,r,r.exports,l),r.exports}l.m=e,function(){var e=[];l.O=function(o,d,t,r){if(!d){var n=1/0;for(a=0;a<e.length;a++){d=e[a][0],t=e[a][1],r=e[a][2];for(var i=!0,s=0;s<d.length;s++)(!1&r||n>=r)&&Object.keys(l.O).every((function(e){return l.O[e](d[s])}))?d.splice(s--,1):(i=!1,r<n&&(n=r));if(i){e.splice(a--,1);var c=t();void 0!==c&&(o=c)}}return o}r=r||0;for(var a=e.length;a>0&&e[a-1][2]>r;a--)e[a]=e[a-1];e[a]=[d,t,r]}}(),function(){l.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(o,{a:o}),o}}(),function(){l.d=function(e,o){for(var d in o)l.o(o,d)&&!l.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:o[d]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={524:0};l.O.j=function(o){return 0===e[o]};var o=function(o,d){var t,r,n=d[0],i=d[1],s=d[2],c=0;if(n.some((function(o){return 0!==e[o]}))){for(t in i)l.o(i,t)&&(l.m[t]=i[t]);if(s)var a=s(l)}for(o&&o(d);c<n.length;c++)r=n[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(a)},d=self["webpackChunkfolder_tree_modal"]=self["webpackChunkfolder_tree_modal"]||[];d.forEach(o.bind(null,0)),d.push=o.bind(null,d.push.bind(d))}();var d=l.O(void 0,[504],(function(){return l(8144)}));d=l.O(d)})();
//# sourceMappingURL=app.092d7c30.js.map